{"version":3,"sources":["src/mySnabbdom/vnode.js","src/mySnabbdom/h.js","src/mySnabbdom/createElement.js","src/mySnabbdom/updateChildren.js","src/mySnabbdom/patch.js","src/index.js","../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["sel","data","children","text","elm","key","c","arguments","length","Error","undefined","Array","isArray","i","hasOwnProperty","push","createElement","vnode","domNode","document","innerText","ch","chDom","appendChild","updateChildren","parentElm","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","newEndIdx","oldStartVnode","oldEndVnode","newStartVnode","newEndVnode","keyMap","checkSameVnode","console","log","insertBefore","nextSibling","idxInOld","elmToMove","removeChild","a","b","oldVnode","newVnode","tagName","toLowerCase","innerHTML","dom","newVnodeElm","parentNode","querySelector","vnode2","setTimeout","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","getElementById","remove","stackTrace","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export default function(sel, data, children, text, elm) {\r\n  const key = data.key\r\n  return {\r\n    sel, data, children, text, elm, key\r\n  }\r\n}","import vnode from './vnode'\r\n\r\nexport default function(sel, data, c) {\r\n  if(arguments.length !== 3) {\r\n    throw new Error('参数必须为3')\r\n  }\r\n  //检查参数c的类型\r\n  if(typeof c == 'string' || typeof c == 'number') {\r\n    return vnode(sel,data,undefined,c,undefined)\r\n  }else if(Array.isArray(c)) {\r\n    //嵌套h函数\r\n    let children = []\r\n    for(let i = 0 ; i< c.length; i++) {\r\n      if(!typeof c[i] == \"object\" && c[i].hasOwnProperty('sel')) {\r\n        throw new Error('传入的数组参数中有项不是h函数')\r\n      }\r\n      children.push(c[i])\r\n    }\r\n    return vnode(sel, data, children, undefined,undefined)\r\n  }else if(typeof c == \"object\" && c.hasOwnProperty('sel')) {\r\n    let children = [c]\r\n    return vnode(sel, data, children, undefined, undefined)\r\n  }else {\r\n    throw new Error('传入的第三个参数类型不对')\r\n  }\r\n}","export default function createElement(vnode) {\r\n  let domNode = document.createElement(vnode.sel)//创建一个空节点\r\n  if(vnode.text !== '' && (vnode.children == undefined || vnode.children.length ==0)){\r\n    //是文字\r\n    domNode.innerText = vnode.text\r\n  }else if(Array.isArray(vnode.children) && vnode.children.length > 0) {\r\n    //内部子节点，递归调用，遇到文本不递归\r\n    for (let i =0;i < vnode.children.length; i++) {\r\n      let ch = vnode.children[i]\r\n      let chDom = createElement(ch)\r\n      domNode.appendChild(chDom)\r\n    }\r\n  }\r\n  //补充elm属性\r\n  vnode.elm = domNode\r\n  //返回elm， elm是一个纯DOM对象\r\n  return vnode.elm\r\n}","import createElement from \"./createElement\";\r\nimport patch from \"./patch\";\r\nexport default function updateChildren(parentElm, oldCh, newCh) {\r\n  // 四个指针\r\n  // 旧前\r\n  let oldStartIdx = 0;\r\n  // 新前\r\n  let newStartIdx = 0;\r\n  // 旧后\r\n  let oldEndIdx = oldCh.length - 1;\r\n  // 新后\r\n  let newEndIdx = newCh.length - 1;\r\n\r\n  // 指针指向的四个节点\r\n  // 旧前节点\r\n  let oldStartVnode = oldCh[0];\r\n  // 旧后节点\r\n  let oldEndVnode = oldCh[oldEndIdx];\r\n  // 新前节点\r\n  let newStartVnode = newCh[0];\r\n  // 新后节点\r\n  let newEndVnode = newCh[newEndIdx];\r\n  //map映射\r\n  let keyMap = null;\r\n\r\n  while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\r\n    // 首先应该不是判断四种命中，而是略过已经加了undefined标记的项\r\n    if (oldCh[oldStartIdx] === undefined) {\r\n      oldStartVnode = oldCh[++oldStartIdx];\r\n    } else if (oldCh[oldEndIdx] === undefined) {\r\n      oldEndVnode = oldCh[--oldEndIdx];\r\n    } else if (newCh[newStartIdx] === undefined) {\r\n      newStartVnode = newCh[++newStartIdx];\r\n    } else if (newCh[newEndIdx] === undefined) {\r\n      newEndVnode = newCh[--newEndIdx];\r\n    } else if (checkSameVnode(oldStartVnode, newStartVnode)) {\r\n      // 新前与旧前\r\n      console.log(\"新前与旧前命中\");\r\n      // 精细化比较两个节点 oldStartVnode现在和newStartVnode一样了\r\n      patch(oldStartVnode, newStartVnode);\r\n      // 移动指针，改变指针指向的节点，这表示这两个节点都处理（比较）完了\r\n      oldStartVnode = oldCh[++oldStartIdx];\r\n      newStartVnode = newCh[++newStartIdx];\r\n    } else if (checkSameVnode(oldEndVnode, newEndVnode)) {\r\n      // 新后与旧后\r\n      console.log(\"新后与旧后命中\");\r\n      patch(oldEndVnode, newEndVnode);\r\n      oldEndVnode = oldCh[--oldEndIdx];\r\n      newEndVnode = newCh[--newEndIdx];\r\n    } else if (checkSameVnode(oldStartVnode, newEndVnode)) {\r\n      // 新后与旧前\r\n      console.log(\"新后与旧前命中\");\r\n      patch(oldStartVnode, newEndVnode);\r\n      // 当③新后与旧前命中的时候，此时要移动节点。移动 新后（旧前） 指向的这个节点到老节点的 旧后的后面\r\n      // 移动节点：只要插入一个已经在DOM树上 的节点，就会被移动\r\n      parentElm.insertBefore(oldStartVnode.elm, oldEndVnode.elm.nextSibling);\r\n      oldStartVnode = oldCh[++oldStartIdx];\r\n      newEndVnode = newCh[--newEndIdx];\r\n    } else if (checkSameVnode(oldEndVnode, newStartVnode)) {\r\n      // 新前与旧后\r\n      console.log(\"新前与旧后命中\");\r\n      patch(oldEndVnode, newStartVnode);\r\n      // 当④新前与旧后命中的时候，此时要移动节点。移动 新前（旧后） 指向的这个节点到老节点的 旧前的前面\r\n      // 移动节点：只要插入一个已经在DOM树上的节点，就会被移动\r\n      parentElm.insertBefore(oldEndVnode.elm, oldStartVnode.elm);\r\n      oldEndVnode = oldCh[--oldEndIdx];\r\n      newStartVnode = newCh[++newStartIdx];\r\n    } else {\r\n      // 四种都没有匹配到，都没有命中\r\n      console.log(\"四种都没有命中\");\r\n      // 寻找 keyMap 一个映射对象， 就不用每次都遍历old对象了\r\n      if (!keyMap) {\r\n        keyMap = {};\r\n        // 记录oldVnode中的节点出现的key\r\n        // 从oldStartIdx开始到oldEndIdx结束，创建keyMap\r\n        for (let i = oldStartIdx; i <= oldEndIdx; i++) {\r\n          const key = oldCh[i].key;\r\n          if (key !== undefined) {\r\n            keyMap[key] = i;\r\n          }\r\n        }\r\n      }\r\n      // 寻找当前项（newStartIdx）在keyMap中映射的序号\r\n      const idxInOld = keyMap[newStartVnode.key];\r\n      if (idxInOld === undefined) {\r\n        // 如果 idxInOld 是 undefined 说明是全新的项，要插入\r\n        // 被加入的项（就是newStartVnode这项)现不是真正的DOM节点\r\n        parentElm.insertBefore(createElement(newStartVnode), oldStartVnode.elm);\r\n      } else {\r\n        // 说明不是全新的项，要移动\r\n        const elmToMove = oldCh[idxInOld];\r\n        patch(elmToMove, newStartVnode);\r\n        // 把这项设置为undefined，表示我已经处理完这项了\r\n        oldCh[idxInOld] = undefined;\r\n        // 移动，调用insertBefore也可以实现移动。\r\n        parentElm.insertBefore(elmToMove.elm, oldStartVnode.elm);\r\n      }\r\n      // newStartIdx++;\r\n      newStartVnode = newCh[++newStartIdx];\r\n    }\r\n  }\r\n  // 循环结束\r\n  if (newStartIdx <= newEndIdx) {\r\n    // 说明newVndoe还有剩余节点没有处理，所以要添加这些节点\r\n    // // 插入的标杆\r\n    // const before =\r\n    //   newCh[newEndIdx + 1] === null ? null : newCh[newEndIdx + 1].elm;\r\n    for (let i = newStartIdx; i <= newEndIdx; i++) {\r\n      // insertBefore方法可以自动识别null，如果是null就会自动排到队尾，和appendChild一致\r\n      parentElm.insertBefore(createElement(newCh[i]), null);\r\n    }\r\n  } else if (oldStartIdx <= oldEndIdx) {\r\n    // 说明oldVnode还有剩余节点没有处理，所以要删除这些节点\r\n    for (let i = oldStartIdx; i <= oldEndIdx; i++) {\r\n      if (oldCh[i]) {\r\n        parentElm.removeChild(oldCh[i].elm);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 判断是否是同一个节点\r\nfunction checkSameVnode(a, b) {\r\n  return a.sel === b.sel && a.key === b.key;\r\n}","import createElement from \"./createElement\";\r\nimport vnode from \"./vnode\";\r\nimport updateChildren from \"./updateChildren\";\r\nexport default function(oldVnode, newVnode) {\r\n  //判断传入的第一个参数，是DOM节点还是虚拟节点\r\n  if(oldVnode.sel == '' || oldVnode.sel == undefined) {\r\n    //传入的第一个参数是DOM节点，此时要包装为虚拟节点\r\n    oldVnode = vnode(oldVnode.tagName.toLowerCase(), {}, [],undefined,oldVnode)\r\n  }\r\n  //判断oldVnode和newVnode是不是同一个节点\r\n  if(oldVnode.key == newVnode.key && oldVnode.sel == newVnode.sel) {\r\n    //判断是不是同一个对象\r\n    if(oldVnode == newVnode) return\r\n    //判断新vnode有没有text属性\r\n    if(newVnode.text !== undefined && (newVnode.children == undefined || newVnode.children.length == 0)) {\r\n      //新vnode只有text属性\r\n      if(newVnode.text != oldVnode.text) {\r\n        //新虚拟节点和老虚拟节点的text不同直接替换掉\r\n        oldVnode.elm.innerText = newVnode.text\r\n      }\r\n    }else {\r\n      //新vnode没有text属性，表示有children属性，挂有子节点\r\n      if(oldVnode.children !== undefined && oldVnode.children.length > 0) {\r\n        //老的有children,复杂情况\r\n        updateChildren(oldVnode.elm, oldVnode.children, newVnode.children)\r\n      }else {\r\n        //老的没有children，新的有children\r\n        //清空老的节点内容\r\n        oldVnode.elm.innerHTML = ''\r\n        //遍历新的vbode的子节点，创建dom上树\r\n        for(let i = 0; i < newVnode.children.length; i++) {\r\n          let dom = createElement(newVnode.children[i])\r\n          oldVnode.elm.appendChild(dom)\r\n        }\r\n      }\r\n    }\r\n  }else {\r\n    let newVnodeElm = createElement(newVnode)\r\n    //插入到老节点之前\r\n    if(oldVnode.elm.parentNode !== undefined && newVnodeElm){\r\n      oldVnode.elm.parentNode.insertBefore(newVnodeElm, oldVnode.elm)\r\n    }\r\n    oldVnode.elm.parentNode.removeChild(oldVnode.elm)\r\n  }\r\n}","import h from './mySnabbdom/h'\r\nimport patch from './mySnabbdom/patch'\r\nconst vnode = h('h1',{},[\r\n  h('div',{key: 1},'1'),\r\n  h('div',{key: 2},'2'),\r\n  h('div',{key: 3},'3')\r\n])\r\nconst oldVnode = document.querySelector('#app')\r\npatch(oldVnode,vnode)\r\n\r\nconst vnode2 = h('h1',{},[\r\n  h('div',{key: 3},'3'),\r\n  h('div',{key: 'B'},'B'),\r\n  h('div',{key: 'A'},'A'),\r\n  h('div',{key: 4},'4')\r\n])\r\n\r\nsetTimeout(()=>{\r\n  patch(vnode,vnode2)\r\n},2000)","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}